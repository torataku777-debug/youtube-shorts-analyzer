{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":["file:///Users/toratanitaku/Desktop/youtube-shorts-analyzer/components/dashboard/TrendFilters.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const TrendFilters = registerClientReference(\n    function() { throw new Error(\"Attempted to call TrendFilters() from the server but TrendFilters is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/dashboard/TrendFilters.tsx <module evaluation>\",\n    \"TrendFilters\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,eAAe,IAAA,wQAAuB,EAC/C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,uEACA","ignoreList":[0]}},
    {"offset": {"line": 32, "column": 0}, "map": {"version":3,"sources":["file:///Users/toratanitaku/Desktop/youtube-shorts-analyzer/components/dashboard/TrendFilters.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const TrendFilters = registerClientReference(\n    function() { throw new Error(\"Attempted to call TrendFilters() from the server but TrendFilters is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/dashboard/TrendFilters.tsx\",\n    \"TrendFilters\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,eAAe,IAAA,wQAAuB,EAC/C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,mDACA","ignoreList":[0]}},
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 54, "column": 0}, "map": {"version":3,"sources":["file:///Users/toratanitaku/Desktop/youtube-shorts-analyzer/components/dashboard/RegionSelector.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const RegionSelector = registerClientReference(\n    function() { throw new Error(\"Attempted to call RegionSelector() from the server but RegionSelector is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/dashboard/RegionSelector.tsx <module evaluation>\",\n    \"RegionSelector\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,iBAAiB,IAAA,wQAAuB,EACjD;IAAa,MAAM,IAAI,MAAM;AAA4O,GACzQ,yEACA","ignoreList":[0]}},
    {"offset": {"line": 68, "column": 0}, "map": {"version":3,"sources":["file:///Users/toratanitaku/Desktop/youtube-shorts-analyzer/components/dashboard/RegionSelector.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const RegionSelector = registerClientReference(\n    function() { throw new Error(\"Attempted to call RegionSelector() from the server but RegionSelector is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/dashboard/RegionSelector.tsx\",\n    \"RegionSelector\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,iBAAiB,IAAA,wQAAuB,EACjD;IAAa,MAAM,IAAI,MAAM;AAA4O,GACzQ,qDACA","ignoreList":[0]}},
    {"offset": {"line": 82, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 90, "column": 0}, "map": {"version":3,"sources":["file:///Users/toratanitaku/Desktop/youtube-shorts-analyzer/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,sKAAO,EAAC,IAAA,6IAAI,EAAC;AACtB"}},
    {"offset": {"line": 105, "column": 0}, "map": {"version":3,"sources":["file:///Users/toratanitaku/Desktop/youtube-shorts-analyzer/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Card({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn(\"leading-none font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn(\"px-6\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn(\"flex items-center px-6 [.border-t]:pt-6\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 207, "column": 0}, "map": {"version":3,"sources":["file:///Users/toratanitaku/Desktop/youtube-shorts-analyzer/components/dashboard/VideoCard.tsx"],"sourcesContent":["\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Eye, TrendingUp } from \"lucide-react\"\n\ninterface VideoCardProps {\n    title: string\n    thumbnailUrl: string\n    views: number\n    likes: number\n    growthViews?: number\n    growthRate?: number\n}\n\nexport function VideoCard({ title, thumbnailUrl, views, likes, growthViews, growthRate }: VideoCardProps) {\n    return (\n        <Card className=\"overflow-hidden hover:shadow-lg transition-all duration-300 group\">\n            <div className=\"relative aspect-[9/16] overflow-hidden bg-muted\">\n                {/* eslint-disable-next-line @next/next/no-img-element */}\n                <img\n                    src={thumbnailUrl}\n                    alt={title}\n                    className=\"object-cover w-full h-full group-hover:scale-105 transition-transform duration-500\"\n                />\n                {growthRate !== undefined && growthRate > 0 ? (\n                    <div className=\"absolute top-2 right-2 bg-gradient-to-r from-red-600 to-orange-600 text-white text-xs font-bold px-2 py-1 rounded-full backdrop-blur-sm shadow-sm flex items-center gap-1\">\n                        <span>+{growthRate}%</span>\n                        <span>üöÄ</span>\n                    </div>\n                ) : (\n                    <div className=\"absolute top-2 right-2 bg-blue-500/80 text-white text-xs font-bold px-2 py-1 rounded-full backdrop-blur-sm shadow-sm flex items-center gap-1\">\n                        <span>Êñ∞ÁùÄ</span>\n                        <span>‚ú®</span>\n                    </div>\n                )}\n            </div>\n            <CardHeader className=\"p-4 pb-2\">\n                <CardTitle className=\"text-sm line-clamp-2 leading-tight\">\n                    {title}\n                </CardTitle>\n            </CardHeader>\n            <CardContent className=\"p-4 pt-0\">\n                <div className=\"grid grid-cols-2 gap-2 text-xs text-muted-foreground mt-2\">\n                    <div className=\"flex items-center gap-1\">\n                        <Eye className=\"w-3 h-3\" />\n                        <span>{views.toLocaleString()}</span>\n                    </div>\n                    <div className=\"flex items-center gap-1\">\n                        <TrendingUp className=\"w-3 h-3 text-green-500\" />\n                        <span>+{growthViews?.toLocaleString() ?? 0}</span>\n                    </div>\n                </div>\n            </CardContent>\n        </Card>\n    )\n}\n"],"names":[],"mappings":";;;;;AACA;AACA;AAAA;;;;AAWO,SAAS,UAAU,EAAE,KAAK,EAAE,YAAY,EAAE,KAAK,EAAE,KAAK,EAAE,WAAW,EAAE,UAAU,EAAkB;IACpG,qBACI,8OAAC,iIAAI;QAAC,WAAU;;0BACZ,8OAAC;gBAAI,WAAU;;kCAEX,8OAAC;wBACG,KAAK;wBACL,KAAK;wBACL,WAAU;;;;;;oBAEb,eAAe,aAAa,aAAa,kBACtC,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;;oCAAK;oCAAE;oCAAW;;;;;;;0CACnB,8OAAC;0CAAK;;;;;;;;;;;6CAGV,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;0CAAK;;;;;;0CACN,8OAAC;0CAAK;;;;;;;;;;;;;;;;;;0BAIlB,8OAAC,uIAAU;gBAAC,WAAU;0BAClB,cAAA,8OAAC,sIAAS;oBAAC,WAAU;8BAChB;;;;;;;;;;;0BAGT,8OAAC,wIAAW;gBAAC,WAAU;0BACnB,cAAA,8OAAC;oBAAI,WAAU;;sCACX,8OAAC;4BAAI,WAAU;;8CACX,8OAAC,uMAAG;oCAAC,WAAU;;;;;;8CACf,8OAAC;8CAAM,MAAM,cAAc;;;;;;;;;;;;sCAE/B,8OAAC;4BAAI,WAAU;;8CACX,8OAAC,gOAAU;oCAAC,WAAU;;;;;;8CACtB,8OAAC;;wCAAK;wCAAE,aAAa,oBAAoB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMjE"}},
    {"offset": {"line": 380, "column": 0}, "map": {"version":3,"sources":["file:///Users/toratanitaku/Desktop/youtube-shorts-analyzer/lib/supabase.ts"],"sourcesContent":["\nimport { createClient } from '@supabase/supabase-js'\n\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\n\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey)\n"],"names":[],"mappings":";;;;AACA;;AAEA,MAAM;AACN,MAAM;AAEC,MAAM,WAAW,IAAA,8LAAY,EAAC,aAAa"}},
    {"offset": {"line": 393, "column": 0}, "map": {"version":3,"sources":["file:///Users/toratanitaku/Desktop/youtube-shorts-analyzer/app/page.tsx"],"sourcesContent":["\nimport { TrendFilters } from \"@/components/dashboard/TrendFilters\"\nimport { RegionSelector } from \"@/components/dashboard/RegionSelector\"\nimport { VideoCard } from \"@/components/dashboard/VideoCard\"\nimport { supabase } from \"@/lib/supabase\"\nimport { Suspense } from \"react\"\n\n// Disable caching to see updates\nexport const revalidate = 0;\n\ninterface PageProps {\n  searchParams: { period?: string, region?: string }\n}\n\nexport default async function Home({ searchParams }: PageProps) {\n  const resolvedParams = await Promise.resolve(searchParams);\n  const period = resolvedParams?.period || '24h';\n  const region = resolvedParams?.region || 'JP';\n\n  let hours = 24;\n  if (period === '7d') hours = 24 * 7;\n  if (period === '30d') hours = 24 * 30;\n\n  console.log(`Fetching trending shorts for period: ${hours} hours, region: ${region}`);\n\n  // Call the RPC function\n  const { data: videos, error } = await supabase\n    .rpc('get_trending_shorts', { period_hours: hours, target_region: region });\n\n  if (error) {\n    console.error(\"Error fetching trending shorts:\", error);\n  }\n\n  let displayVideos = videos || [];\n\n  if (!videos && error) {\n    // Fallback manual query if RPC fails (simplified, ignores region filtering accurately)\n    const { data: latestVideos } = await supabase\n      .from('videos')\n      .select(`*, daily_metrics(view_count, like_count)`)\n      .eq('region', region) // Filter manual query too\n      .limit(20);\n\n    displayVideos = latestVideos?.map((v: any) => ({\n      video_id: v.id,\n      title: v.title,\n      thumbnail_url: v.thumbnail_url,\n      current_views: v.daily_metrics?.[0]?.view_count || 0,\n      growth_views: 0,\n      growth_rate: 0\n    })) || [];\n  }\n\n  return (\n    <div className=\"space-y-8\">\n      <header className=\"flex items-center justify-between\">\n        <div>\n          <h2 className=\"text-3xl font-bold tracking-tight\">„ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„Éâ</h2>\n          <p className=\"text-muted-foreground mt-1\">\n            {region === 'JP' ? 'Êó•Êú¨' : '„Ç¢„É°„É™„Ç´'}„ÅßÊÄ•‰∏äÊòá‰∏≠„ÅÆYouTube„Ç∑„Éß„Éº„Éà„ÇíÂàÜÊûê\n          </p>\n        </div>\n        <Suspense>\n          <RegionSelector />\n        </Suspense>\n      </header>\n\n      <div className=\"space-y-4\">\n        <div className=\"flex items-center justify-between\">\n          <h3 className=\"text-xl font-semibold\">ÊÄ•‰∏äÊòá„É©„É≥„Ç≠„É≥„Ç∞</h3>\n          <Suspense>\n            <TrendFilters />\n          </Suspense>\n        </div>\n\n        {error && (\n          <div className=\"bg-yellow-500/10 text-yellow-500 p-4 rounded-md text-sm border border-yellow-500/20\">\n            Note: ÊàêÈï∑ÁéáË®àÁÆóÁî®„ÅÆÈñ¢Êï∞(get_trending_shorts)„ÅåÊõ¥Êñ∞„Åï„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì„ÄÇmigration_region.sql„ÇíÂÆüË°å„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ\n          </div>\n        )}\n\n        <div className=\"grid gap-6 md:grid-cols-2 lg:grid-cols-4\">\n          {displayVideos.length > 0 ? (\n            displayVideos.map((video: any) => (\n              <VideoCard\n                key={video.video_id}\n                title={video.title}\n                thumbnailUrl={video.thumbnail_url}\n                views={video.current_views}\n                likes={0}\n                growthViews={video.growth_views}\n                growthRate={video.growth_rate}\n              />\n            ))\n          ) : (\n            <p className=\"col-span-4 text-center text-muted-foreground py-10\">\n              „Åì„ÅÆÊúüÈñì„ÅÆ„Éá„Éº„Çø„ÅØ„Åæ„Å†„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ„Éá„Éº„Çø„ÅåËìÑÁ©ç„Åï„Çå„Çã„Åæ„Åß„ÅäÂæÖ„Å°„Åè„Å†„Åï„ÅÑ„ÄÇ\n            </p>\n          )}\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AACA;AACA;AACA;;;;;;;AAGO,MAAM,aAAa;AAMX,eAAe,KAAK,EAAE,YAAY,EAAa;IAC5D,MAAM,iBAAiB,MAAM,QAAQ,OAAO,CAAC;IAC7C,MAAM,SAAS,gBAAgB,UAAU;IACzC,MAAM,SAAS,gBAAgB,UAAU;IAEzC,IAAI,QAAQ;IACZ,IAAI,WAAW,MAAM,QAAQ,KAAK;IAClC,IAAI,WAAW,OAAO,QAAQ,KAAK;IAEnC,QAAQ,GAAG,CAAC,CAAC,qCAAqC,EAAE,MAAM,gBAAgB,EAAE,QAAQ;IAEpF,wBAAwB;IACxB,MAAM,EAAE,MAAM,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,2HAAQ,CAC3C,GAAG,CAAC,uBAAuB;QAAE,cAAc;QAAO,eAAe;IAAO;IAE3E,IAAI,OAAO;QACT,QAAQ,KAAK,CAAC,mCAAmC;IACnD;IAEA,IAAI,gBAAgB,UAAU,EAAE;IAEhC,IAAI,CAAC,UAAU,OAAO;QACpB,uFAAuF;QACvF,MAAM,EAAE,MAAM,YAAY,EAAE,GAAG,MAAM,2HAAQ,CAC1C,IAAI,CAAC,UACL,MAAM,CAAC,CAAC,wCAAwC,CAAC,EACjD,EAAE,CAAC,UAAU,QAAQ,0BAA0B;SAC/C,KAAK,CAAC;QAET,gBAAgB,cAAc,IAAI,CAAC,IAAW,CAAC;gBAC7C,UAAU,EAAE,EAAE;gBACd,OAAO,EAAE,KAAK;gBACd,eAAe,EAAE,aAAa;gBAC9B,eAAe,EAAE,aAAa,EAAE,CAAC,EAAE,EAAE,cAAc;gBACnD,cAAc;gBACd,aAAa;YACf,CAAC,MAAM,EAAE;IACX;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAO,WAAU;;kCAChB,8OAAC;;0CACC,8OAAC;gCAAG,WAAU;0CAAoC;;;;;;0CAClD,8OAAC;gCAAE,WAAU;;oCACV,WAAW,OAAO,OAAO;oCAAO;;;;;;;;;;;;;kCAGrC,8OAAC,iNAAQ;kCACP,cAAA,8OAAC,4JAAc;;;;;;;;;;;;;;;;0BAInB,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAG,WAAU;0CAAwB;;;;;;0CACtC,8OAAC,iNAAQ;0CACP,cAAA,8OAAC,wJAAY;;;;;;;;;;;;;;;;oBAIhB,uBACC,8OAAC;wBAAI,WAAU;kCAAsF;;;;;;kCAKvG,8OAAC;wBAAI,WAAU;kCACZ,cAAc,MAAM,GAAG,IACtB,cAAc,GAAG,CAAC,CAAC,sBACjB,8OAAC,kJAAS;gCAER,OAAO,MAAM,KAAK;gCAClB,cAAc,MAAM,aAAa;gCACjC,OAAO,MAAM,aAAa;gCAC1B,OAAO;gCACP,aAAa,MAAM,YAAY;gCAC/B,YAAY,MAAM,WAAW;+BANxB,MAAM,QAAQ;;;;sDAUvB,8OAAC;4BAAE,WAAU;sCAAqD;;;;;;;;;;;;;;;;;;;;;;;AAQ9E"}}]
}